<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Nexus:/Revenant Division</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Share+Tech+Mono&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #05010d;
      --fg: #e4f8ff;
      --neon-magenta: #ff1fb8;
      --neon-cyan: #3dfbff;
      --neon-orange: #ff8c33;
      --muted: rgba(228, 248, 255, 0.65);
      --panel: rgba(10, 14, 42, 0.8);
      --scanline: rgba(255, 255, 255, 0.04);
      --shadow: 0 0 20px rgba(61, 251, 255, 0.4);
      font-size: clamp(15px, 1.1vw, 18px);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--fg);
      font-family: 'IBM Plex Mono', monospace;
      overflow-x: hidden;
      position: relative;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -2;
    }

    body::before {
      background: radial-gradient(circle at top left, rgba(255, 31, 184, 0.23), transparent 45%),
                  radial-gradient(circle at bottom right, rgba(61, 251, 255, 0.16), transparent 40%),
                  radial-gradient(circle at 60% 40%, rgba(255, 140, 51, 0.18), transparent 45%);
      mix-blend-mode: screen;
    }

    body::after {
      background-image: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        var(--scanline) 2px,
        var(--scanline) 3px
      );
      animation: scanline 10s linear infinite;
    }

    @keyframes scanline {
      from { transform: translateY(0); }
      to { transform: translateY(100%); }
    }

    #cyber-background {
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: -1;
      pointer-events: none;
    }

    .cyber-orb {
      position: absolute;
      width: clamp(160px, 20vw, 280px);
      height: clamp(160px, 20vw, 280px);
      background: radial-gradient(circle, rgba(61, 251, 255, 0.22), rgba(255, 31, 184, 0));
      border: 1px solid rgba(61, 251, 255, 0.2);
      filter: blur(0.4px);
      animation: drift 20s linear infinite;
      mix-blend-mode: screen;
    }

    .cyber-orb:nth-child(1) { top: -12%; left: 8%; animation-duration: 28s; }
    .cyber-orb:nth-child(2) { top: 30%; right: -15%; animation-duration: 32s; }
    .cyber-orb:nth-child(3) { bottom: -18%; left: 15%; animation-duration: 24s; }

    @keyframes drift {
      0% { transform: translate3d(0, 0, 0) rotate(0deg); opacity: 0.45; }
      25% { transform: translate3d(40px, 70px, 0) rotate(18deg); opacity: 0.65; }
      50% { transform: translate3d(-30px, 110px, 0) rotate(32deg); opacity: 0.55; }
      75% { transform: translate3d(70px, -30px, 0) rotate(48deg); opacity: 0.7; }
      100% { transform: translate3d(0, 0, 0) rotate(0deg); opacity: 0.45; }
    }

    .cyber-stream {
      position: absolute;
      width: 160%;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(61, 251, 255, 0.6), transparent);
      animation: stream 14s linear infinite;
      opacity: 0.55;
    }

    .cyber-stream:nth-child(4) { top: 22%; left: -25%; }
    .cyber-stream:nth-child(5) { top: 58%; left: -35%; animation-duration: 18s; }
    .cyber-stream:nth-child(6) { top: 82%; left: -12%; animation-duration: 11s; }

    @keyframes stream {
      0% { transform: translateX(0); opacity: 0; }
      30% { opacity: 0.5; }
      60% { opacity: 0.8; }
      100% { transform: translateX(45%); opacity: 0; }
    }

    .cyber-node {
      position: absolute;
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: var(--neon-magenta);
      box-shadow: 0 0 10px rgba(255, 31, 184, 0.8);
      animation: pulse-node 3s ease-in-out infinite;
    }

    .cyber-node:nth-child(7) { top: 18%; left: 46%; animation-delay: 0.5s; }
    .cyber-node:nth-child(8) { top: 52%; left: 24%; animation-delay: 1.2s; }
    .cyber-node:nth-child(9) { top: 74%; right: 14%; animation-delay: 1.9s; }

    @keyframes pulse-node {
      0%, 100% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.9); opacity: 1; }
    }

    body[data-auth="pending"] main,
    body[data-auth="pending"] footer,
    body[data-auth="pending"] .audio-toggle {
      display: none;
    }

    body[data-auth="granted"] .signin-wrapper {
      display: none;
    }

    .signin-wrapper {
      min-height: 100vh;
      display: grid;
      align-items: center;
      justify-content: center;
      padding: clamp(2rem, 6vw, 6rem);
    }

    .signin-grid {
      display: grid;
      gap: clamp(2rem, 5vw, 4rem);
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      align-items: stretch;
      width: min(1100px, 100%);
    }

    .signin-panel {
      background: rgba(6, 12, 36, 0.82);
      border: 1px solid rgba(61, 251, 255, 0.25);
      box-shadow: 0 0 35px rgba(61, 251, 255, 0.18), inset 0 0 45px rgba(255, 31, 184, 0.12);
      padding: clamp(2.2rem, 4vw, 3.6rem);
      position: relative;
      overflow: hidden;
    }

    .signin-panel::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255, 31, 184, 0.2), transparent 60%);
      pointer-events: none;
    }

    .signin-header {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      margin-bottom: 1.8rem;
    }

    .signin-header span {
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.45em;
      text-transform: uppercase;
      color: var(--neon-cyan);
      font-size: 0.75rem;
    }

    .signin-header h2 {
      margin: 0;
      font-size: clamp(1.8rem, 3vw, 2.4rem);
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: var(--fg);
      text-shadow: 0 0 20px rgba(61, 251, 255, 0.4);
    }

    .signin-form {
      display: grid;
      gap: 1.2rem;
      position: relative;
      z-index: 1;
    }

    .signin-field {
      display: grid;
      gap: 0.6rem;
    }

    .signin-field label {
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.32em;
      text-transform: uppercase;
      font-size: 0.75rem;
      color: rgba(228, 248, 255, 0.75);
    }

    .signin-field input,
    .signin-field select,
    .signin-field textarea {
      background: rgba(3, 5, 16, 0.9);
      border: 1px solid rgba(61, 251, 255, 0.28);
      color: var(--fg);
      padding: 0.75rem;
      font-family: 'IBM Plex Mono', monospace;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .signin-field textarea {
      min-height: 90px;
      resize: vertical;
    }

    .signin-field input:focus,
    .signin-field select:focus,
    .signin-field textarea:focus {
      border-color: var(--neon-magenta);
      box-shadow: 0 0 18px rgba(255, 31, 184, 0.32);
      outline: none;
    }

    .signin-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .signin-status {
      font-size: 0.72rem;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: rgba(228, 248, 255, 0.6);
      min-height: 1rem;
    }

    .signin-preview {
      background: url('https://images.unsplash.com/photo-1470294402047-1a75f0b8d7eb?auto=format&fit=crop&w=1200&q=80') center/cover;
      border: 1px solid rgba(255, 31, 184, 0.25);
      position: relative;
      min-height: 360px;
      overflow: hidden;
      display: flex;
      align-items: flex-end;
    }

    .signin-preview::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(0deg, rgba(5, 7, 16, 0.92), rgba(5, 7, 16, 0.25));
    }

    .signin-preview div {
      position: relative;
      padding: 2rem;
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.32em;
      text-transform: uppercase;
      color: var(--neon-orange);
    }

    main {
      position: relative;
      z-index: 1;
    }

    section {
      padding: 6rem clamp(1.5rem, 5vw, 8rem);
      position: relative;
    }

    .grid {
      display: grid;
      gap: clamp(1.5rem, 3vw, 3.5rem);
    }

    .hero {
      min-height: 100vh;
      display: grid;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 20%, rgba(255, 31, 184, 0.4), transparent 55%),
                  radial-gradient(circle at 80% 70%, rgba(61, 251, 255, 0.3), transparent 55%);
      filter: blur(40px);
      opacity: 0.7;
      animation: pulse 12s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.05); opacity: 0.8; }
    }

    h1, h2, h3 {
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    h1 {
      font-size: clamp(2.8rem, 6vw, 5rem);
      margin: 0;
      line-height: 1.1;
      color: var(--fg);
      text-shadow: 0 0 18px rgba(255, 31, 184, 0.7), 0 0 30px rgba(61, 251, 255, 0.5);
    }

    h2 {
      font-size: clamp(1.5rem, 2.4vw, 2.5rem);
      margin-bottom: 1rem;
    }

    p {
      color: var(--muted);
      line-height: 1.7;
      max-width: 70ch;
    }

    .tagline {
      font-family: 'Share Tech Mono', monospace;
      text-transform: uppercase;
      letter-spacing: 0.5em;
      font-size: clamp(0.9rem, 1vw, 1.2rem);
      color: var(--neon-cyan);
      margin-bottom: 1.5rem;
      display: inline-block;
      position: relative;
    }

    .tagline::after {
      content: "";
      position: absolute;
      height: 2px;
      width: 80px;
      background: linear-gradient(90deg, var(--neon-cyan), transparent);
      right: -100px;
      top: 50%;
      transform: translateY(-50%);
    }

    .button {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.85rem 1.6rem;
      border: 1px solid var(--neon-magenta);
      background: rgba(255, 31, 184, 0.1);
      color: var(--fg);
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-family: 'Share Tech Mono', monospace;
      font-size: 0.85rem;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s;
      position: relative;
      overflow: hidden;
    }

    .button::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(130deg, rgba(61, 251, 255, 0.4), transparent 50%);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .button:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 25px rgba(255, 31, 184, 0.3), 0 0 35px rgba(61, 251, 255, 0.3);
      border-color: var(--neon-cyan);
    }

    .button:hover::before {
      opacity: 1;
    }

    .panel {
      background: var(--panel);
      border: 1px solid rgba(61, 251, 255, 0.15);
      box-shadow: 0 0 20px rgba(255, 31, 184, 0.12), inset 0 0 30px rgba(61, 251, 255, 0.08);
      padding: clamp(1.5rem, 3vw, 2.5rem);
      position: relative;
      overflow: hidden;
    }

    .panel::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(130deg, rgba(255, 31, 184, 0.08), transparent 40%);
      pointer-events: none;
    }

    .panel-title {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 1rem;
      color: var(--neon-cyan);
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      font-size: 0.9rem;
    }

    .panel-title::before {
      content: "";
      width: 45px;
      height: 1px;
      background: linear-gradient(90deg, var(--neon-cyan), transparent);
    }

    .lore-list {
      display: grid;
      gap: 1.5rem;
    }

    .lore-item {
      position: relative;
      padding-left: 2.5rem;
    }

    .lore-item::before {
      content: "◈";
      position: absolute;
      left: 0;
      color: var(--neon-magenta);
      text-shadow: 0 0 12px var(--neon-magenta);
      animation: float 4s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(-2px); }
      50% { transform: translateY(2px); }
    }

    .holo-billboard {
      position: relative;
      min-height: 320px;
      border: 1px solid rgba(61, 251, 255, 0.4);
      overflow: hidden;
      display: grid;
      place-items: center;
      color: var(--fg);
      text-align: center;
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      background-image: url('https://images.unsplash.com/photo-1526413232643-8f042ebd8081?auto=format&fit=crop&w=1200&q=80');
      background-size: cover;
      background-position: center;
    }

    .holo-billboard::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: conic-gradient(from 0deg, rgba(61, 251, 255, 0.2), rgba(255, 31, 184, 0.2), rgba(61, 251, 255, 0.2));
      filter: blur(45px);
      animation: swirl 22s linear infinite;
    }

    @keyframes swirl {
      to { transform: rotate(360deg); }
    }

    .holo-billboard .city {
      position: relative;
      z-index: 1;
      font-size: clamp(1.2rem, 2vw, 2rem);
      line-height: 1.6;
      text-shadow: 0 0 20px rgba(61, 251, 255, 0.8);
    }

    .wave {
      position: relative;
      overflow: hidden;
      padding-bottom: clamp(2rem, 6vw, 4rem);
      border-bottom: 1px solid rgba(255, 31, 184, 0.25);
    }

    .wave::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 120px;
      background: linear-gradient(0deg, rgba(5, 1, 13, 1), rgba(5, 1, 13, 0));
      pointer-events: none;
    }

    .choices {
      display: grid;
      gap: 1.2rem;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      margin-top: 1.5rem;
    }

    .choice-card {
      border: 1px solid rgba(61, 251, 255, 0.3);
      padding: 1.25rem;
      background: rgba(6, 10, 36, 0.85);
      cursor: pointer;
      transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      min-height: 180px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 1rem;
    }

    .choice-card .choice-art {
      width: 100%;
      height: auto;
      border: 1px solid rgba(61, 251, 255, 0.35);
      border-radius: 8px;
      object-fit: cover;
      box-shadow: 0 0 18px rgba(61, 251, 255, 0.15);
    }

    .choice-card .choice-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .choice-card:hover {
      transform: translateY(-6px);
      border-color: var(--neon-magenta);
      box-shadow: 0 0 25px rgba(255, 31, 184, 0.25);
    }

    .choice-card.active {
      border-color: var(--neon-cyan);
      box-shadow: 0 0 25px rgba(61, 251, 255, 0.25);
    }

    .choice-title {
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.15em;
      color: var(--neon-cyan);
      font-size: 1rem;
    }

    .choice-desc {
      color: var(--muted);
      font-size: 0.95rem;
      margin-top: 0.75rem;
      line-height: 1.6;
    }

    .step-label {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      color: var(--neon-orange);
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      font-size: 0.82rem;
    }

    .scanline-panel {
      position: relative;
      overflow: hidden;
    }

    .scanline-panel::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(255, 31, 184, 0.04) 0px,
        rgba(255, 31, 184, 0.04) 2px,
        transparent 2px,
        transparent 4px
      );
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .dossier {
      display: grid;
      gap: 1rem;
    }

    .dossier-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px dashed rgba(61, 251, 255, 0.2);
      padding: 0.6rem 0;
      font-size: 0.95rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }

    .dossier-line strong {
      color: var(--neon-cyan);
      font-weight: 500;
    }

    .assignment {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(1.5rem, 3vw, 2.6rem);
      letter-spacing: 0.3em;
      color: var(--neon-magenta);
      text-align: center;
      margin: 2rem 0 1rem;
      text-shadow: 0 0 20px rgba(255, 31, 184, 0.65);
    }

    .assignment-desc {
      text-align: center;
      margin-bottom: 2rem;
      color: var(--muted);
      font-size: 1rem;
      line-height: 1.7;
    }

    .badge {
      margin: 0 auto;
      border: 1px solid rgba(61, 251, 255, 0.35);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 380px;
      text-align: center;
      background: rgba(8, 14, 38, 0.85);
      box-shadow: 0 0 35px rgba(61, 251, 255, 0.18), inset 0 0 32px rgba(255, 31, 184, 0.08);
    }

    .badge h3 {
      letter-spacing: 0.25em;
      font-size: 1rem;
      margin-bottom: 0.6rem;
      color: var(--neon-cyan);
    }

    .badge .sigil {
      font-size: 2.4rem;
      letter-spacing: 0.4em;
      text-shadow: 0 0 25px rgba(255, 31, 184, 0.6);
      margin-bottom: 0.6rem;
    }

    .badge p {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: rgba(228, 248, 255, 0.75);
    }

    .terminal {
      background: rgba(3, 5, 18, 0.85);
      border: 1px solid rgba(255, 31, 184, 0.25);
      padding: 2rem;
      font-family: 'Share Tech Mono', monospace;
      color: rgba(61, 251, 255, 0.85);
      position: relative;
      overflow: hidden;
    }

    .terminal::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(61, 251, 255, 0.08), transparent 65%);
      pointer-events: none;
    }

    .terminal-line {
      display: block;
      margin-bottom: 0.6rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
    }

    .terminal-inputs {
      display: grid;
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .terminal-field {
      display: grid;
      gap: 0.5rem;
    }

    label {
      font-size: 0.75rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: rgba(61, 251, 255, 0.8);
    }

    input, textarea {
      background: rgba(0, 4, 15, 0.85);
      border: 1px solid rgba(61, 251, 255, 0.3);
      color: var(--fg);
      padding: 0.6rem;
      font-family: 'IBM Plex Mono', monospace;
      letter-spacing: 0.08em;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    input:focus, textarea:focus {
      border-color: var(--neon-magenta);
      box-shadow: 0 0 15px rgba(255, 31, 184, 0.35);
    }

    textarea {
      min-height: 110px;
      resize: vertical;
    }

    .signal-grid {
      display: grid;
      gap: 1.5rem;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }

    .signal-card {
      padding: 1rem;
      border: 1px solid rgba(255, 31, 184, 0.3);
      background: rgba(8, 10, 32, 0.8);
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease, border-color 0.3s ease;
    }

    .signal-card:hover {
      transform: translateY(-8px);
      border-color: var(--neon-cyan);
    }

    .signal-card::before {
      content: "";
      position: absolute;
      inset: -20%;
      background: linear-gradient(130deg, rgba(255, 31, 184, 0.3), transparent 50%);
      opacity: 0.4;
      filter: blur(25px);
    }

    .signal-card h4 {
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.18em;
      color: var(--neon-cyan);
      margin-bottom: 0.6rem;
      text-transform: uppercase;
    }

    .signal-card p {
      font-size: 0.9rem;
      color: rgba(228, 248, 255, 0.75);
      line-height: 1.6;
    }

    .map-wrap {
      display: grid;
      gap: clamp(1.5rem, 4vw, 3.5rem);
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      align-items: stretch;
    }

    .map-grid {
      position: relative;
      background: rgba(6, 12, 34, 0.85);
      border: 1px solid rgba(61, 251, 255, 0.28);
      box-shadow: inset 0 0 40px rgba(61, 251, 255, 0.12), 0 0 40px rgba(255, 31, 184, 0.15);
      overflow: hidden;
      min-height: 0;
    }

    .map-grid::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, rgba(255, 31, 184, 0.06) 1px, transparent 1px),
                  linear-gradient(0deg, rgba(61, 251, 255, 0.06) 1px, transparent 1px);
      background-size: 70px 70px;
      opacity: 0.45;
      mix-blend-mode: lighten;
      pointer-events: none;
    }

    .city-map {
      position: relative;
      width: 100%;
      height: auto;
      filter: drop-shadow(0 0 12px rgba(61, 251, 255, 0.35));
    }

    @media (min-width: 900px) {
      .map-grid {
        min-height: 320px;
      }
    }

    .city-map-img {
      width: 100%;
      height: auto;
      display: block;
      filter: brightness(0.8) contrast(1.2);
    }

    .map-overlay-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .hotspot {
      position: absolute;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.4s ease;
      z-index: 2;
    }

    .hotspot:hover {
      border-color: var(--neon-cyan);
      background: rgba(61, 251, 255, 0.15);
      box-shadow: 0 0 30px rgba(61, 251, 255, 0.4), inset 0 0 20px rgba(61, 251, 255, 0.2);
    }

    .hotspot.active {
      border-color: var(--neon-magenta);
      background: rgba(255, 31, 184, 0.2);
      box-shadow: 0 0 35px rgba(255, 31, 184, 0.5);
    }

    .district {
      stroke: rgba(5, 10, 32, 0.9);
      stroke-width: 3;
      cursor: pointer;
      transition: transform 0.4s ease, filter 0.4s ease;
    }

    .district:hover,
    .district:focus {
      transform: translateY(-2px) scale(1.02);
      filter: drop-shadow(0 0 18px rgba(61, 251, 255, 0.45));
      outline: none;
    }

    .district.revenant { fill: rgba(61, 251, 255, 0.45); }
    .district.chrome { fill: rgba(255, 31, 184, 0.4); }
    .district.azure { fill: rgba(55, 165, 255, 0.45); }
    .district.wraith { fill: rgba(255, 140, 51, 0.45); }
    .district.lotus { fill: rgba(168, 255, 99, 0.42); }

    .relationship-line {
      stroke-width: 4;
      stroke-linecap: round;
      opacity: 0.8;
    }

    .relationship-line.rival { stroke: rgba(255, 73, 133, 0.7); stroke-dasharray: 8 6; }
    .relationship-line.ally { stroke: rgba(84, 255, 176, 0.7); }

    .relationship-node {
      fill: rgba(12, 18, 40, 0.85);
      stroke-width: 3;
    }

    .relationship-node.rival { stroke: rgba(255, 73, 133, 0.8); }
    .relationship-node.ally { stroke: rgba(84, 255, 176, 0.8); }

    .territory-panel {
      background: rgba(10, 15, 40, 0.88);
      border: 1px solid rgba(255, 31, 184, 0.25);
      padding: clamp(1.5rem, 3vw, 2.4rem);
      box-shadow: inset 0 0 32px rgba(255, 31, 184, 0.12), 0 0 24px rgba(61, 251, 255, 0.18);
      display: grid;
      gap: 1.2rem;
    }

    .territory-output h3 {
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.28em;
      font-size: clamp(1.1rem, 1.8vw, 1.6rem);
      color: var(--neon-cyan);
      margin: 0;
      text-transform: uppercase;
    }

    .territory-output p {
      color: rgba(228, 248, 255, 0.75);
      line-height: 1.7;
    }

    .territory-meta {
      display: grid;
      gap: 0.75rem;
    }

    .meta-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(228, 248, 255, 0.7);
      border-bottom: 1px dashed rgba(61, 251, 255, 0.2);
      padding-bottom: 0.45rem;
    }

    .meta-line strong {
      color: var(--neon-magenta);
      font-weight: 500;
    }

    .map-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      font-size: 0.75rem;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      color: rgba(228, 248, 255, 0.7);
    }

    .legend-item {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.4rem 0.8rem;
      border: 1px solid rgba(61, 251, 255, 0.25);
      background: rgba(6, 12, 32, 0.7);
    }

    .legend-swatch {
      width: 14px;
      height: 14px;
      border-radius: 2px;
      box-shadow: 0 0 8px rgba(61, 251, 255, 0.25);
    }

    .map-notes {
      font-size: 0.72rem;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      color: rgba(228, 248, 255, 0.55);
    }

    .silhouette-grid {
      display: grid;
      gap: clamp(1.5rem, 4vw, 3rem);
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }

    .silhouette-card {
      position: relative;
      min-height: 320px;
      border: 1px solid rgba(61, 251, 255, 0.25);
      overflow: hidden;
      background: radial-gradient(circle at top, rgba(255, 31, 184, 0.18), rgba(5, 7, 18, 0.9));
      display: flex;
      align-items: flex-end;
      justify-content: center;
      box-shadow: 0 0 24px rgba(61, 251, 255, 0.16), inset 0 0 28px rgba(255, 31, 184, 0.08);
    }

    .silhouette-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      filter: contrast(1.2) saturate(1.1);
      opacity: 0.85;
      mix-blend-mode: screen;
    }

    .silhouette-card[data-gang="revenant"]::before {
      background-image: url('https://images.unsplash.com/photo-1534447677768-be436bb09401?auto=format&fit=crop&w=800&q=80');
    }

    .silhouette-card[data-gang="chrome"]::before {
      background-image: url('https://images.unsplash.com/photo-1549923746-c502d488b3ea?auto=format&fit=crop&w=800&q=80');
    }

    .silhouette-card[data-gang="azure"]::before {
      background-image: url('https://images.unsplash.com/photo-1549924231-f129b911e442?auto=format&fit=crop&w=800&q=80');
    }

    .silhouette-card[data-gang="lotus"]::before {
      background-image: url('https://images.unsplash.com/photo-1604079628040-94301bb21b11?auto=format&fit=crop&w=800&q=80');
    }

    .silhouette-overlay {
      position: relative;
      width: 100%;
      padding: 1.4rem;
      backdrop-filter: blur(6px);
      background: linear-gradient(0deg, rgba(5, 6, 18, 0.85), rgba(5, 6, 18, 0));
      text-align: center;
      z-index: 1;
    }

    .silhouette-overlay h3 {
      margin: 0 0 0.4rem;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.32em;
      font-size: 1rem;
      color: var(--neon-cyan);
    }

    .silhouette-overlay span {
      display: block;
      font-size: 0.75rem;
      letter-spacing: 0.38em;
      text-transform: uppercase;
      color: rgba(228, 248, 255, 0.75);
      margin-bottom: 0.8rem;
    }

    .style-tags {
      display: inline-flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .style-tag {
      font-size: 0.68rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      border: 1px solid rgba(255, 31, 184, 0.35);
      padding: 0.35rem 0.8rem;
      background: rgba(6, 12, 26, 0.75);
      color: rgba(228, 248, 255, 0.8);
    }

    .alias-highlight {
      color: var(--neon-magenta);
      letter-spacing: 0.28em;
      text-transform: uppercase;
      font-family: 'Share Tech Mono', monospace;
    }

    .exit {
      text-align: center;
    }

    .exit h2 {
      text-shadow: 0 0 20px rgba(61, 251, 255, 0.5);
    }

    .exit-countdown {
      font-size: clamp(2.4rem, 5vw, 3.8rem);
      letter-spacing: 0.35em;
      font-family: 'Orbitron', sans-serif;
      color: var(--neon-orange);
      text-shadow: 0 0 20px rgba(255, 140, 51, 0.6);
      margin: 1.5rem 0;
    }

    footer {
      padding: 2rem clamp(1.5rem, 5vw, 8rem);
      color: rgba(228, 248, 255, 0.4);
      font-size: 0.75rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      font-family: 'Share Tech Mono', monospace;
      border-top: 1px solid rgba(61, 251, 255, 0.2);
      text-align: center;
    }

    /* Boot overlay */
    #boot-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at center, rgba(0, 255, 234, 0.25), rgba(3, 5, 20, 0.95));
      backdrop-filter: blur(6px);
      display: grid;
      place-items: center;
      z-index: 10;
      transition: opacity 0.8s ease;
    }

    #boot-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .boot-sequence {
      max-width: 520px;
      text-align: center;
      padding: 3rem;
      border: 1px solid rgba(61, 251, 255, 0.4);
      background: rgba(2, 6, 18, 0.85);
      box-shadow: 0 0 35px rgba(61, 251, 255, 0.25), inset 0 0 50px rgba(255, 31, 184, 0.08);
      position: relative;
      overflow: hidden;
    }

    .boot-sequence::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(130deg, rgba(255, 31, 184, 0.15), transparent 55%);
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .boot-line {
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      font-size: 0.82rem;
      color: rgba(228, 248, 255, 0.7);
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      margin-bottom: 1.1rem;
    }

    .boot-line.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .audio-toggle {
      position: fixed;
      right: 1.5rem;
      bottom: 1.5rem;
      z-index: 5;
      background: rgba(8, 12, 40, 0.8);
      border: 1px solid rgba(61, 251, 255, 0.4);
      color: var(--neon-cyan);
      padding: 0.7rem 1rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      font-size: 0.75rem;
      cursor: pointer;
      font-family: 'Share Tech Mono', monospace;
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .audio-toggle:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 20px rgba(61, 251, 255, 0.25);
    }

    .ambient {
      display: none;
    }

    .glitch {
      position: relative;
      display: inline-block;
    }

    .glitch::before,
    .glitch::after {
      content: attr(data-text);
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0.7;
      clip-path: inset(0 0 0 0);
    }

    .glitch::before {
      color: var(--neon-magenta);
      transform: translate(2px, -2px);
      mix-blend-mode: screen;
    }

    .glitch::after {
      color: var(--neon-cyan);
      transform: translate(-2px, 2px);
      mix-blend-mode: screen;
    }

    .glitch-anim::before {
      animation: glitch 2s infinite linear alternate-reverse;
    }

    .glitch-anim::after {
      animation: glitch 2.4s infinite linear alternate;
    }

    @keyframes glitch {
      0% { clip-path: inset(10% 0 85% 0); transform: translate(-2px, -1px); }
      20% { clip-path: inset(40% 0 40% 0); transform: translate(2px, 1px); }
      40% { clip-path: inset(80% 0 5% 0); transform: translate(-1px, 2px); }
      60% { clip-path: inset(10% 0 50% 0); transform: translate(1px, -2px); }
      80% { clip-path: inset(20% 0 70% 0); transform: translate(-1px, 1px); }
      100% { clip-path: inset(5% 0 80% 0); transform: translate(2px, 0); }
    }

    .secret-modal {
      position: fixed;
      inset: 0;
      background: rgba(5, 0, 12, 0.94);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 20;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
    }

    .secret-modal.visible {
      opacity: 1;
      pointer-events: all;
    }

    .secret-content {
      border: 1px solid rgba(255, 31, 184, 0.4);
      padding: 3rem clamp(1.5rem, 4vw, 3rem);
      text-align: center;
      max-width: 520px;
      background: rgba(5, 7, 20, 0.95);
      position: relative;
      overflow: hidden;
    }

    .secret-content::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(130deg, rgba(255, 31, 184, 0.2), transparent 60%);
      pointer-events: none;
    }

    .secret-content h3 {
      font-size: 1.1rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--neon-cyan);
    }

    .secret-content p {
      margin: 1.25rem 0 0;
      color: rgba(228, 248, 255, 0.7);
      line-height: 1.8;
    }

    /* Responsive adjustments */
    @media (max-width: 720px) {
      .hero {
        padding-top: 6rem;
        padding-bottom: 6rem;
      }

      h1 {
        letter-spacing: 0.12em;
      }

      .tagline {
        letter-spacing: 0.35em;
      }

      .assignment {
        letter-spacing: 0.15em;
      }

      .audio-toggle {
        right: 1rem;
        bottom: 1rem;
      }

      .boot-sequence {
        padding: 2.4rem 1.6rem;
        letter-spacing: 0.2em;
      }

      .wave::after {
        height: 80px;
      }
    }
  </style>
</head>
<body data-auth="pending">
  <div id="cyber-background">
    <div class="cyber-orb"></div>
    <div class="cyber-orb"></div>
    <div class="cyber-orb"></div>
    <div class="cyber-stream"></div>
    <div class="cyber-stream"></div>
    <div class="cyber-stream"></div>
    <div class="cyber-node"></div>
    <div class="cyber-node"></div>
    <div class="cyber-node"></div>
  </div>
  <div id="boot-overlay">
    <div class="boot-sequence">
      <span class="boot-line" data-delay="0">INITIALIZING INTERCEPT ARRAY...</span>
      <span class="boot-line" data-delay="700">NEURAL FILTERS CALIBRATED.</span>
      <span class="boot-line" data-delay="1400">PHANTOM ROUTERS: ONLINE.</span>
      <span class="boot-line" data-delay="2100">TRACE CLEANSE: 99.7% COMPLETE.</span>
      <span class="boot-line" data-delay="2800">ACCESS NODE: NEXUS://REVENANT-DIVISION</span>
      <span class="boot-line" data-delay="3500">STATUS: <span class="glitch glitch-anim" data-text="ACCESS GRANTED">ACCESS GRANTED</span></span>
      <button class="button" id="boot-enter" style="margin-top:2rem;">ENTER THE NEXUS</button>
    </div>
  </div>

  <audio id="ambient" class="ambient" loop></audio>
  <button class="audio-toggle" id="audio-toggle">AUDIO: OFF</button>

  <section class="signin-wrapper" id="signin-section">
    <div class="signin-grid">
      <div class="signin-panel">
        <div class="signin-header">
          <span>Access Control // Revenant Division</span>
          <h2>Sign Into The Nexus</h2>
        </div>
        <form class="signin-form" id="signin-form">
          <div class="signin-field">
            <label for="signin-alias">Runner Alias</label>
            <input type="text" id="signin-alias" name="alias" placeholder="e.g. VOID RAVEN" autocomplete="nickname" required>
          </div>
          <div class="signin-field">
            <label for="signin-cipher">Cipher Key</label>
            <input type="password" id="signin-cipher" name="cipher" placeholder="ghost-line-##" autocomplete="current-password" required>
          </div>
          <div class="signin-field">
            <label for="scenario-one">Scenario 01 // Corp Patrol spots you rerouting their drone. What do you do?</label>
            <textarea id="scenario-one" name="scenarioOne" placeholder="Describe your response..." required></textarea>
          </div>
          <div class="signin-field">
            <label for="scenario-two">Scenario 02 // A civilian asset betrays the crew mid-run. How do you secure the op?</label>
            <textarea id="scenario-two" name="scenarioTwo" placeholder="Outline your countermeasure..." required></textarea>
          </div>
          <div class="signin-field">
            <label for="scenario-three">Scenario 03 // Rivals offer rare tech for intel on Revenants. Do you accept?</label>
            <select id="scenario-three" name="scenarioThree" required>
              <option value="">Select your move...</option>
              <option value="counter-trade">Counter-trade with false intel and trace their uplink</option>
              <option value="decline">Decline and flag them for surveillance</option>
              <option value="accept">Accept to infiltrate deeper undercover</option>
              <option value="sabotage">Stage a handoff ambush and seize their tech</option>
            </select>
          </div>
          <div class="signin-actions">
            <button class="button" type="submit">Authenticate</button>
            <span class="signin-status" id="signin-status"></span>
          </div>
        </form>
      </div>
      <div class="signin-preview">
        <div>NeoCity Access Node 7G<br>Scenario Vetting Required</div>
      </div>
    </div>
  </section>

  <main id="content">
    <section class="hero">
      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); align-items: center; gap: clamp(2rem, 5vw, 4rem);">
        <div style="z-index:1;">
          <span class="tagline">The Nexus:/Revenant Division</span>
          <h1 class="glitch glitch-anim" data-text="Recruitment Uplink">Recruitment Uplink</h1>
          <p style="margin:1.8rem 0 0; max-width:48ch;">
            Signal uplink ready, <span class="alias-highlight" id="operator-alias">Ghost Runner</span>. You pierced the blackout veil and found the Revenant Division’s infiltration node. Every packet you send is shadowed, every biometric you provide is ghosted. This is the only gateway that matters.
          </p>
          <div style="margin-top:2.5rem; display:flex; flex-wrap:wrap; gap:1rem;">
            <a class="button" href="#profiling">Initiate Profiling</a>
            <a class="button" href="#manifesto" style="border-color:rgba(61,251,255,0.6);">Read the Dossier</a>
          </div>
        </div>
        <div class="panel holo-billboard">
          <div class="city">
            NeoCity // Sector 7G<br>
            Rainfall: Constant<br>
            Surveillance: 98.4%<br>
            Revenant Signal Strength: MAX
          </div>
        </div>
      </div>
    </section>

    <section id="manifesto" class="wave">
      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); align-items: flex-start;">
        <div class="panel scanline-panel">
          <span class="panel-title">Gang Manifesto</span>
          <h2>Rise Beyond Flesh.</h2>
          <p>
            The Revenant Division wages war in electric whispers. We hijack the feeds, fracture the megacorps, rewrite the code that chains the city to a myth of control. Recruits who breach this uplink become more than muscle, more than data—they become revenants.
          </p>
          <div class="lore-list" style="margin-top:1.5rem;">
            <div class="lore-item">
              <strong>01: Ghost Signal</strong><br>
              Our bunkers exist between heartbeats. Interference shields cloak our transmissions—each member emits a synthetic identity swarm to fracture traces.
            </div>
            <div class="lore-item">
              <strong>02: Chrome Pact</strong><br>
              Members install the pact: encrypted implants feeding real-time intel to the collective. We feel each other’s pulse and pivot as one.
            </div>
            <div class="lore-item">
              <strong>03: Neon Doctrine</strong><br>
              We weaponize aesthetics. Street projections, glitched propaganda, viral myth-makers. The city will chant our name before it notices the collapse.
            </div>
          </div>
        </div>
        <div class="panel">
          <span class="panel-title">Operation Feed</span>
          <h2>Tonight’s Broadcast</h2>
          <p>
            “Silicon never forgets” – recorded from a corporate whisper. We traced it, inverted it, returned it through every broken AR pane in Sector Nine. The boardrooms are panicking. Old blood is spilling. Your arrival is the next spike in the waveform.
          </p>
          <div class="panel" style="margin-top:2rem; background:rgba(6,10,36,0.8); border-color:rgba(255,31,184,0.25);">
            <span class="panel-title">Encrypted Intel</span>
            <p style="color:rgba(228,248,255,0.7);">
              Signal fragment recovered: <em>[Sig: 88X-NOCT-REIGN]</em><br>
              <strong>Decoded</strong>: “Revenant cells blending with railcloud traffic. Tracking impossible.”<br>
              <strong>Directive</strong>: Maintain myth, recruit only the haunted.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="profiling" class="wave">
      <span class="step-label">Phase 1 // Initiate Profiling</span>
      <h2>Prove Your Worth</h2>
      <p>
        Select your instinct. The uplink monitors micro-twitch responses and cross-references them with our mythic archetypes. Choose with intent; the Division abhors hesitation.
      </p>

      <div class="choices" data-step="instinct">
        <div class="choice-card" data-id="alpha">
          <img src="alpha.png" alt="Alpha operative render" class="choice-art">
          <div class="choice-content">
            <div class="choice-title">Alpha</div>
            <div class="choice-desc">
              You destabilize choke points and ignite citywide diversions. Adrenaline is your currency.
            </div>
          </div>
          <span style="color:var(--neon-orange); letter-spacing:0.25em; font-size:0.75rem;">Signal Index: 77.2</span>
        </div>
        <div class="choice-card" data-id="oracle">
          <img src="oracle.png" alt="Oracle operative render" class="choice-art">
          <div class="choice-content">
            <div class="choice-title">Oracle</div>
            <div class="choice-desc">
              You read market fissures and predict when drones blink. You are the whisper behind the curtain.
            </div>
          </div>
          <span style="color:var(--neon-orange); letter-spacing:0.25em; font-size:0.75rem;">Signal Index: 88.4</span>
        </div>
        <div class="choice-card" data-id="specter">
          <img src="specter.png" alt="Specter operative render" class="choice-art">
          <div class="choice-content">
            <div class="choice-title">Specter</div>
            <div class="choice-desc">
              You move unseen, duplicating your echo across cameras. Silence obeys you.
            </div>
          </div>
          <span style="color:var(--neon-orange); letter-spacing:0.25em; font-size:0.75rem;">Signal Index: 92.6</span>
        </div>
        <div class="choice-card" data-id="breaker">
          <img src="datamaster.png" alt="Breaker operative render" class="choice-art">
          <div class="choice-content">
            <div class="choice-title">Breaker</div>
            <div class="choice-desc">
              Data vaults bend when you exhale. Firewalls melt into your palms. Circuits beg forgiveness.
            </div>
          </div>
          <span style="color:var(--neon-orange); letter-spacing:0.25em; font-size:0.75rem;">Signal Index: 84.9</span>
        </div>
      </div>

      <div style="margin-top:3rem;">
        <span class="step-label">Phase 2 // Augment Selection</span>
        <div class="choices" data-step="augment">
          <div class="choice-card" data-id="drone-swarm">
            <div>
              <div class="choice-title">Drone Swarm</div>
              <div class="choice-desc">
                Micro-drones mesh into your blindspots, feeding tactical overlays and spectrum scans.
              </div>
            </div>
            <span style="color:var(--neon-cyan); letter-spacing:0.2em; font-size:0.75rem;">Telemetry Locked</span>
          </div>
          <div class="choice-card" data-id="dream-splice">
            <div>
              <div class="choice-title">Dream Splice</div>
              <div class="choice-desc">
                Hijack corporate executives mid-sleep and puppeteer their decisions at dawn.
              </div>
            </div>
            <span style="color:var(--neon-cyan); letter-spacing:0.2em; font-size:0.75rem;">Psych Index: 91</span>
          </div>
          <div class="choice-card" data-id="phase-shift">
            <div>
              <div class="choice-title">Phase Shift</div>
              <div class="choice-desc">
                Temporarily desync from city time. Cameras record static while you breach.
              </div>
            </div>
            <span style="color:var(--neon-cyan); letter-spacing:0.2em; font-size:0.75rem;">Temporal Drift</span>
          </div>
        </div>
      </div>

      <div style="margin-top:3rem;">
        <span class="step-label">Phase 3 // Allegiance Pulse</span>
        <div class="choices" data-step="allegiance">
          <div class="choice-card" data-id="chaos">
            <div>
              <div class="choice-title">Entropy Doctrine</div>
              <div class="choice-desc">
                Collapse the corp grids. Let the streets scrawl new law in electric ink.
              </div>
            </div>
            <span style="color:var(--neon-magenta); letter-spacing:0.2em; font-size:0.75rem;">Entropy +12</span>
          </div>
          <div class="choice-card" data-id="balance">
            <div>
              <div class="choice-title">Axis Directive</div>
              <div class="choice-desc">
                Redistribute power. Re-route resources to the shadow commons. Keep equilibrium breathing.
              </div>
            </div>
            <span style="color:var(--neon-magenta); letter-spacing:0.2em; font-size:0.75rem;">Entropy +03</span>
          </div>
          <div class="choice-card" data-id="revenge">
            <div>
              <div class="choice-title">Blood Ledger</div>
              <div class="choice-desc">
                Every megacorp sin will be answered. Names engraved in chromium debt.
              </div>
            </div>
            <span style="color:var(--neon-magenta); letter-spacing:0.2em; font-size:0.75rem;">Entropy +20</span>
          </div>
        </div>
      </div>

      <div style="display:flex; flex-wrap:wrap; gap:1rem; margin-top:3rem;">
        <button class="button" id="analyze">Analyze Profile</button>
        <span id="analysis-status" style="align-self:center; letter-spacing:0.3em; font-size:0.75rem; color:rgba(228,248,255,0.6);"></span>
      </div>
    </section>

    <section class="wave">
      <div class="panel scanline-panel">
        <span class="panel-title">Role Assignment</span>
        <div class="assignment glitch glitch-anim" data-text="Awaiting Signal">Awaiting Signal</div>
        <p class="assignment-desc">
          Your dossier is rendering in real time. Revenant analysts ride the bandwidth like feral ghosts. Stay focused.
        </p>
        <div class="badge">
          <h3>Revenant Sigil</h3>
          <div class="sigil" id="sigil">— — —</div>
          <p id="badge-text">Awaiting biosignature sync.</p>
        </div>

        <div class="panel" style="margin-top:2.5rem; background:rgba(10,14,42,0.75);">
          <span class="panel-title">Encrypted Dossier</span>
          <div class="dossier">
            <div class="dossier-line"><strong>Callsign</strong><span id="res-callsign">Pending</span></div>
            <div class="dossier-line"><strong>Skill Envelope</strong><span id="res-skill">Null</span></div>
            <div class="dossier-line"><strong>Loyalty Curve</strong><span id="res-loyalty">Calculating...</span></div>
            <div class="dossier-line"><strong>Risk Quotient</strong><span id="res-risk">/</span></div>
            <div class="dossier-line"><strong>Directive</strong><span id="res-directive">Standby</span></div>
          </div>
        </div>
      </div>
    </section>

    <section class="wave">
      <span class="step-label">Phase 4 // Submission Uplink</span>
      <h2>Transmit Your Ghost Data</h2>
      <div class="terminal">
        <span class="terminal-line">> establishing handshake...</span>
        <span class="terminal-line">> encryption key spool: [ █ █ █ █ █ ]</span>
        <form id="uplink-form">
          <div class="terminal-inputs">
            <div class="terminal-field">
              <label for="name">Biometric Alias</label>
              <input type="text" id="name" name="name" placeholder="Enter alias" required>
            </div>
            <div class="terminal-field">
              <label for="codename">Preferred Callsign</label>
              <input type="text" id="codename" name="codename" placeholder="e.g. IRON PHANTOM" required>
            </div>
            <div class="terminal-field">
              <label for="specialty">Primary Specialty</label>
              <input type="text" id="specialty" name="specialty" placeholder="Signal Hijack / Field Ops / etc">
            </div>
            <div class="terminal-field">
              <label for="motivation">Motivation Vector</label>
              <textarea id="motivation" name="motivation" placeholder="Deliver your origin myth."></textarea>
            </div>
          </div>
          <button class="button" type="submit">Send Packet</button>
        </form>
        <span class="terminal-line" id="uplink-status"></span>
      </div>
    </section>

    <section class="wave">
      <span class="step-label">Phase 5 // Signal Board</span>
      <h2>Holographic Briefings</h2>
      <div class="signal-grid">
        <div class="signal-card">
          <h4>Sector Echo-13</h4>
          <p>Railcloud sabotage scheduled. Need a drone pilot to blend with the maglev current. Reward: hidden chipset.</p>
        </div>
        <div class="signal-card">
          <h4>Mirage Theater</h4>
          <p>Projection takeover in 4 minutes. Artists needed to weave revenant sigils through corp propaganda.</p>
        </div>
        <div class="signal-card">
          <h4>Wiresong</h4>
          <p>Neural chorus seeking spectral voice to harmonize with city drones. Must sustain 180 bpm heartbeat.</p>
        </div>
        <div class="signal-card">
          <h4>Graffiti Pulse</h4>
          <p>AR taggers needed in old industrial block. Paint with photon dust, broadcast our creed in ten languages.</p>
        </div>
      </div>
    </section>

    <section id="territories" class="wave">
      <span class="step-label">Phase 6 // Territory Mesh</span>
      <h2>NeoCity Control Visualizer</h2>
      <div class="map-wrap">
       <div class="map-grid">
        <img src="citymap.png" alt="NeoCity Territory Map" class="city-map-img">
        <canvas id="map-canvas" class="map-overlay-canvas"></canvas>
        
        <!-- Clickable hotspots -->
        <div class="hotspot revenant-zone" data-gang="revenant" style="top: 20%; left: 15%; width: 25%; height: 30%;"></div>
        <div class="hotspot chrome-zone" data-gang="chrome" style="top: 15%; left: 45%; width: 30%; height: 25%;"></div>
        <div class="hotspot azure-zone" data-gang="azure" style="top: 50%; left: 20%; width: 25%; height: 30%;"></div>
        <div class="hotspot wraith-zone" data-gang="wraith" style="top: 45%; left: 50%; width: 30%; height: 28%;"></div>
        <div class="hotspot lotus-zone" data-gang="lotus" style="top: 55%; left: 8%; width: 18%; height: 25%;"></div>
      </div>
        <div class="territory-panel">
          <span class="panel-title">Encrypted Territory Feed</span>
          <div class="territory-output">
            <h3 id="territory-gang">Revenant Division</h3>
            <p id="territory-desc">Skyline relays shimmer with revenant sigils. Drone cameras play back hollow silhouettes to mask our raids.</p>
          </div>
          <div class="territory-meta">
            <div class="meta-line"><strong>Sector</strong><span id="territory-zone">Sector 7G</span></div>
            <div class="meta-line"><strong>Specialty</strong><span id="territory-specialty">Signal Infiltration</span></div>
            <div class="meta-line"><strong>Allies</strong><span id="territory-allies">Chrome Syndicate</span></div>
            <div class="meta-line"><strong>Rivals</strong><span id="territory-rivals">Azure Wraiths</span></div>
          </div>
          <div class="map-legend">
            <div class="legend-item"><span class="legend-swatch" style="background: rgba(84, 255, 176, 0.8);"></span>Allies</div>
            <div class="legend-item"><span class="legend-swatch" style="background: rgba(255, 73, 133, 0.8);"></span>Rivals</div>
            <div class="legend-item"><span class="legend-swatch" style="background: rgba(61, 251, 255, 0.7);"></span>Active Zone</div>
          </div>
          <div class="map-notes">Hover or tap a district to surface live control intel.</div>
        </div>
      </div>
    </section>

    <section id="silhouettes" class="wave">
      <span class="step-label">Phase 7 // Wardrobe Codex</span>
      <h2>Gang Silhouette Gallery</h2>
      <div class="silhouette-grid">
        <div class="silhouette-card" data-gang="revenant">
          <div class="silhouette-overlay">
            <h3>Revenant Division</h3>
            <span>Ghost Weave</span>
            <div class="style-tags">
              <span class="style-tag">Fiber Optic Cloaks</span>
              <span class="style-tag">Holo Visors</span>
              <span class="style-tag">Black Chrome</span>
            </div>
          </div>
        </div>
        <div class="silhouette-card" data-gang="chrome">
          <div class="silhouette-overlay">
            <h3>Chrome Syndicate</h3>
            <span>Mercen-Tech</span>
            <div class="style-tags">
              <span class="style-tag">Plated Armor</span>
              <span class="style-tag">LED Helmets</span>
              <span class="style-tag">Hydraulic Boots</span>
            </div>
          </div>
        </div>
        <div class="silhouette-card" data-gang="azure">
          <div class="silhouette-overlay">
            <h3>Azure Wraiths</h3>
            <span>Tide Runners</span>
            <div class="style-tags">
              <span class="style-tag">Reflective Coats</span>
              <span class="style-tag">Breather Masks</span>
              <span class="style-tag">Hydro Drones</span>
            </div>
          </div>
        </div>
        <div class="silhouette-card" data-gang="lotus">
          <div class="silhouette-overlay">
            <h3>Lotus Arc</h3>
            <span>Bio-Psion</span>
            <div class="style-tags">
              <span class="style-tag">Spore Cloaks</span>
              <span class="style-tag">Glow Tattoos</span>
              <span class="style-tag">Veil Masks</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="wave exit">
      <h2>Exit Protocol Engaged</h2>
      <div class="exit-countdown" id="exit-countdown">03:00</div>
      <p>
        The portal will self-scrub in 3 minutes. If you need another glimpse, trigger the override by typing <strong>GLITCH</strong>. Otherwise, sever your connection. Revenants move in silence.
      </p>
      <div style="margin-top:2rem;">
        <button class="button" id="reset-portal">Reboot Portal</button>
      </div>
    </section>
  </main>

  <footer>
    Revenant Division / NeoCity / Signal Auth 7G-Σ. | Fabricated entirely via AI directives. No backend. No traces.
  </footer>

  <div class="secret-modal" id="secret-modal">
    <div class="secret-content">
      <h3>Ghost Channel Unlocked</h3>
      <p>
        You cracked the GLITCH cipher. Revenant archives whisper: <em>“When iron rains, meet under the fractured billboard. Bring no shadows.”</em> This knowledge is yours—use it to reshape the neon tides.
      </p>
      <div style="margin-top:2rem;">
        <button class="button" id="close-secret">Seal Channel</button>
      </div>
    </div>
  </div>

  <script>
    const selections = {
      instinct: null,
      augment: null,
      allegiance: null
    };

    const personalityMatrix = {
      alpha: { role: 'Neon Vanguard', sigil: 'NV-07', skill: 'High-Impact Diversions', loyalty: 'Volatile', risk: 'Controlled Chaos', directive: 'Lead frontal interference squads' },
      oracle: { role: 'Circuit Oracle', sigil: 'CO-22', skill: 'Predictive Analytics', loyalty: 'Steady Pulse', risk: 'Low Exposure', directive: 'Map corp futures & exploit flux' },
      specter: { role: 'Chrome Phantom', sigil: 'CP-09', skill: 'Infiltration & Cloaking', loyalty: 'Unseen Vows', risk: 'Minimal Trace', directive: 'Ghost through surveillance nets' },
      breaker: { role: 'Data Slicer', sigil: 'DS-44', skill: 'Firewall Destruction', loyalty: 'Surge Driven', risk: 'High Voltage', directive: 'Crack corporate vaults nightly' }
    };

    const augmentInfluence = {
      'drone-swarm': { loyalty: 'Tactical Collective', risk: 'Shared Risk', directive: 'Lead drone swarms across railclouds' },
      'dream-splice': { loyalty: 'Psych Synced', risk: 'Mind Feedback', directive: 'Hijack executive dreams for intel leaks' },
      'phase-shift': { loyalty: 'Temporal Drift', risk: 'Chrono Echoes', directive: 'Phase-breach servers & vanish' }
    };

    const allegianceInfluence = {
      chaos: { loyalty: 'Entropy Surge', directive: 'Collapse the order & spark uprisings' },
      balance: { loyalty: 'Equilibrium Pact', directive: 'Stablize undercity resource flow' },
      revenge: { loyalty: 'Blood Ledger', directive: 'Exact precise retribution on boardrooms' }
    };

    let bootActive = true;
    const bootOverlay = document.getElementById('boot-overlay');
    const bootEnter = document.getElementById('boot-enter');
    const bootEnterDefaultText = bootEnter ? bootEnter.textContent : 'ENTER THE NEXUS';
    const MAX_COUNTDOWN = 180;
    let countdown = MAX_COUNTDOWN;

    const bootLines = document.querySelectorAll('.boot-line');
    const signinForm = document.getElementById('signin-form');
    const signinStatus = document.getElementById('signin-status');
    const signinAlias = document.getElementById('signin-alias');
    const signinCipher = document.getElementById('signin-cipher');
    const scenarioOne = document.getElementById('scenario-one');
    const scenarioTwo = document.getElementById('scenario-two');
    const scenarioThree = document.getElementById('scenario-three');
    const operatorAlias = document.getElementById('operator-alias');

    bootLines.forEach(line => {
      const delay = parseInt(line.dataset.delay, 10);
      setTimeout(() => line.classList.add('visible'), delay);
    });

    bootEnter.addEventListener('click', () => {
      bootOverlay.classList.add('hidden');
      bootOverlay.style.opacity = '';
      document.body.classList.remove('signal-fade');
      bootActive = false;
      if (countdown === 0) {
        countdown = MAX_COUNTDOWN;
        updateCountdownDisplay();
      }
      bootEnter.textContent = bootEnterDefaultText;
      startAmbient();
      if (document.body.dataset.auth !== 'granted') {
        setTimeout(() => signinAlias?.focus({ preventScroll: true }), 250);
      }
    });

    if (signinForm) {
      signinForm.addEventListener('submit', e => {
        e.preventDefault();
        const alias = signinAlias.value.trim();
        const cipher = signinCipher.value.trim();
        const answerOne = scenarioOne.value.trim();
        const answerTwo = scenarioTwo.value.trim();
        const answerThree = scenarioThree.value;

        if (alias.length < 3) {
          signinStatus.textContent = 'Alias too faint. amplify signal.';
          signinStatus.style.color = '#ff6b6b';
          signinAlias.focus();
          return;
        }

        if (cipher.length < 6 || !cipher.includes('-')) {
          signinStatus.textContent = 'Cipher invalid. inject hyphenated ghost key.';
          signinStatus.style.color = '#ff8c33';
          signinCipher.focus();
          return;
        }

        if (!answerOne || !answerTwo || !answerThree) {
          signinStatus.textContent = 'Respond to all scenarios to proceed.';
          signinStatus.style.color = '#ff8c33';
          return;
        }

        signinStatus.textContent = 'Validating credentials...';
        signinStatus.style.color = 'rgba(228,248,255,0.7)';

        setTimeout(() => {
          document.body.dataset.auth = 'granted';
          signinStatus.textContent = `Access issued, ${alias.toUpperCase()}.`;
          signinStatus.style.color = '#3dfbff';
          if (operatorAlias) {
            operatorAlias.textContent = alias.toUpperCase();
          }
          setTimeout(() => {
            document.getElementById('content')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
            signinStatus.textContent = '';
          }, 1200);
        }, 900);
      });
    }

    const ambientAudio = document.getElementById('ambient');
    const audioToggle = document.getElementById('audio-toggle');
    let audioLoaded = false;
    let audioOn = false;

    async function createAmbientBuffer() {
      if (!window.AudioContext) return null;
      const ctx = new AudioContext();
      const buffer = ctx.createBuffer(2, ctx.sampleRate * 20, ctx.sampleRate);
      for (let channel = 0; channel < buffer.numberOfChannels; channel++) {
        const nowBuffering = buffer.getChannelData(channel);
        for (let i = 0; i < buffer.length; i++) {
          const base = Math.sin(i / 50) * 0.2;
          const drift = Math.sin(i / 110 + channel * 0.5) * 0.1;
          const crackle = (Math.random() - 0.5) * 0.05;
          nowBuffering[i] = base + drift + crackle;
        }
      }
      const offline = new OfflineAudioContext(buffer.numberOfChannels, buffer.length, ctx.sampleRate);
      const source = offline.createBufferSource();
      source.buffer = buffer;
      const filter = offline.createBiquadFilter();
      filter.type = 'lowpass';
      filter.frequency.value = 1600;
      source.connect(filter).connect(offline.destination);
      source.start();
      const rendered = await offline.startRendering();
      const renderedCtx = new AudioContext();
      const node = renderedCtx.createBufferSource();
      node.buffer = rendered;
      const dest = renderedCtx.createMediaStreamDestination();
      node.connect(dest);
      node.start();
      const recorder = new MediaRecorder(dest.stream);
      const chunks = [];
      recorder.ondataavailable = e => chunks.push(e.data);
      recorder.start();
      setTimeout(() => recorder.stop(), 2000);
      let resolvePromise;
      const p = new Promise(resolve => resolvePromise = resolve);
      recorder.onstop = () => {
        const blob = new Blob(chunks, { type: 'audio/webm' });
        resolvePromise(blob);
      };
      return p;
    }

    function startAmbient() {
      if (audioLoaded) return;
      audioLoaded = true;

      (async () => {
        try {
          const blob = await createAmbientBuffer();
          if (!blob) return;
          const url = URL.createObjectURL(blob);
          ambientAudio.src = url;
          ambientAudio.volume = 0.45;
        } catch (err) {
          console.warn('Ambient audio unavailable', err);
        }
      })();
    }

    audioToggle.addEventListener('click', async () => {
      if (!ambientAudio.src) {
        return;
      }
      try {
        if (!audioOn) {
          await ambientAudio.play();
          audioToggle.textContent = 'AUDIO: ON';
          audioOn = true;
        } else {
          ambientAudio.pause();
          audioToggle.textContent = 'AUDIO: OFF';
          audioOn = false;
        }
      } catch (err) {
        console.warn('Audio play error', err);
      }
    });

    document.querySelectorAll('.choices').forEach(group => {
      const step = group.dataset.step;
      group.querySelectorAll('.choice-card').forEach(card => {
        card.addEventListener('click', () => {
          group.querySelectorAll('.choice-card').forEach(c => c.classList.remove('active'));
          card.classList.add('active');
          selections[step] = card.dataset.id;
        });
      });
    });

    const analyzeBtn = document.getElementById('analyze');
    const statusEl = document.getElementById('analysis-status');

    const assignmentEl = document.querySelector('.assignment');
    const badgeSigil = document.getElementById('sigil');
    const badgeText = document.getElementById('badge-text');
    const resCallsign = document.getElementById('res-callsign');
    const resSkill = document.getElementById('res-skill');
    const resLoyalty = document.getElementById('res-loyalty');
    const resRisk = document.getElementById('res-risk');
    const resDirective = document.getElementById('res-directive');

    analyzeBtn.addEventListener('click', () => {
      if (!selections.instinct || !selections.augment || !selections.allegiance) {
        statusEl.textContent = 'Select all phases to continue.';
        statusEl.style.color = '#ff6b6b';
        return;
      }
      statusEl.textContent = 'Decrypting signal...';
      statusEl.style.color = 'rgba(228,248,255,0.6)';
      analyzeBtn.disabled = true;

      setTimeout(() => {
        const base = personalityMatrix[selections.instinct];
        const augment = augmentInfluence[selections.augment];
        const allegiance = allegianceInfluence[selections.allegiance];

        const roleName = base.role;
        assignmentEl.setAttribute('data-text', roleName.toUpperCase());
        assignmentEl.textContent = roleName;
        assignmentEl.classList.add('glitch-anim');

        badgeSigil.textContent = base.sigil;
        badgeText.textContent = augment.directive;

        resCallsign.textContent = roleName.toUpperCase();
        resSkill.textContent = base.skill;

        const loyaltyBlend = `${augment.loyalty} :: ${allegiance.loyalty}`;
        resLoyalty.textContent = loyaltyBlend;

        resRisk.textContent = augment.risk;
        resDirective.textContent = allegiance.directive;

        statusEl.textContent = 'Profile sync complete. Revenant mask issued.';
        statusEl.style.color = '#3dfbff';
        analyzeBtn.disabled = false;
      }, 1800);
    });

    const uplinkForm = document.getElementById('uplink-form');
    const uplinkStatus = document.getElementById('uplink-status');

    uplinkForm.addEventListener('submit', e => {
      e.preventDefault();
      const formData = new FormData(uplinkForm);
      const alias = formData.get('name');
      const codename = formData.get('codename');
      const specialty = formData.get('specialty') || 'Unknown Vector';

      uplinkStatus.textContent = '> transmitting... ▒▒▒';
      setTimeout(() => {
        uplinkStatus.textContent = `> packet delivered. welcome, ${codename.toUpperCase()}. loyalty imprint scheduled.`;
        uplinkForm.reset();
      }, 1500);
      setTimeout(() => {
        resCallsign.textContent = codename.toUpperCase();
        resSkill.textContent = specialty;
        resRisk.textContent = 'Field Pending';
      }, 1900);
    });

    const exitCountdown = document.getElementById('exit-countdown');

    function updateCountdownDisplay() {
      if (!exitCountdown) return;
      const minutes = Math.floor(countdown / 60).toString().padStart(2, '0');
      const seconds = (countdown % 60).toString().padStart(2, '0');
      exitCountdown.textContent = `${minutes}:${seconds}`;
    }

    updateCountdownDisplay();

    setInterval(() => {
      if (countdown <= 0) return;
      countdown--;
      updateCountdownDisplay();
      if (countdown === 0) {
        document.body.classList.add('signal-fade');
        bootOverlay.classList.remove('hidden');
        bootOverlay.style.opacity = 0.98;
        bootEnter.textContent = 'RE-ENTER THE NEXUS';
        bootActive = true;
      }
    }, 1000);

    const resetPortal = document.getElementById('reset-portal');
    resetPortal.addEventListener('click', () => {
      countdown = MAX_COUNTDOWN;
      updateCountdownDisplay();
      document.body.classList.remove('signal-fade');
      bootOverlay.classList.add('hidden');
      bootOverlay.style.opacity = '';
      bootEnter.textContent = bootEnterDefaultText;
      bootActive = false;
    });

    const territoryData = {
      revenant: {
        name: 'Revenant Division',
        zone: 'Sector 7G',
        specialty: 'Signal Infiltration',
        allies: ['Lotus Arc'],
        rivals: ['Chrome Syndicate', 'Helix Wraith Enclave'],
        description: 'Skyline relays shimmer with revenant sigils. Drone cameras play back hollow silhouettes to mask our raids.'
      },
      chrome: {
        name: 'Chrome Syndicate',
        zone: 'Skyline Verge',
        specialty: 'Augment Trafficking',
        allies: ['Helix Wraith Enclave'],
        rivals: ['Revenant Division', 'Azure Wraiths'],
        description: 'Mercenary enforcers in mirrored armor patrol skybridges, selling muscle and plating to the highest bidder.'
      },
      azure: {
        name: 'Azure Wraiths',
        zone: 'Flooded Docklands',
        specialty: 'Ghost Logistics',
        allies: ['Lotus Arc'],
        rivals: ['Chrome Syndicate'],
        description: 'Tide runners with reflective cloaks slip through storm drains, moving contraband beneath the holographic tides.'
      },
      wraith: {
        name: 'Helix Wraith Enclave',
        zone: 'Quantum Bazaar',
        specialty: 'Bio-Mod Exchange',
        allies: ['Chrome Syndicate'],
        rivals: ['Lotus Arc'],
        description: 'Bio-smiths splice outlaw DNA beneath neon skylights; every sale sealed with encrypted blood oaths.'
      },
      lotus: {
        name: 'Lotus Arc',
        zone: 'Underground Gardens',
        specialty: 'Psionic Espionage',
        allies: ['Revenant Division', 'Azure Wraiths'],
        rivals: ['Helix Wraith Enclave'],
        description: 'Bioluminescent cloaks bloom under city roots; spores infect boardrooms with shared prophetic visions.'
      }
    };

    const districtElements = document.querySelectorAll('.hotspot');
    const canvas = document.getElementById('map-canvas');
    const ctx = canvas ? canvas.getContext('2d') : null;

    if (canvas) {
      const resizeCanvas = () => {
        const img = document.querySelector('.city-map-img');
        if (img) {
          canvas.width = img.offsetWidth;
          canvas.height = img.offsetHeight;
        }
      };
      window.addEventListener('resize', resizeCanvas);
      setTimeout(resizeCanvas, 100);
    }
    const territoryGang = document.getElementById('territory-gang');
    const territoryDesc = document.getElementById('territory-desc');
    const territoryZone = document.getElementById('territory-zone');
    const territorySpecialty = document.getElementById('territory-specialty');
    const territoryAllies = document.getElementById('territory-allies');
    const territoryRivals = document.getElementById('territory-rivals');

    function renderTerritory(key) {
      const data = territoryData[key];
      if (!data) return;
      territoryGang.textContent = data.name;
      territoryDesc.textContent = data.description;
      territoryZone.textContent = data.zone;
      territorySpecialty.textContent = data.specialty;
      territoryAllies.textContent = data.allies.join(' · ');
      territoryRivals.textContent = data.rivals.join(' · ');
      districtElements.forEach(el => {
        el.classList.toggle('active', el.dataset.gang === key);
      });
    }

    if (districtElements.length) {
  renderTerritory('revenant');
  
  districtElements.forEach(el => {
    const gangKey = el.dataset.gang;
    ['mouseenter', 'focus'].forEach(evt => {
      el.addEventListener(evt, () => {
        renderTerritory(gangKey);
        if (ctx && canvas) {
          const rect = el.getBoundingClientRect();
          const canvasRect = canvas.getBoundingClientRect();
          const x = rect.left - canvasRect.left + rect.width / 2;
          const y = rect.top - canvasRect.top + rect.height / 2;
          
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          const gradient = ctx.createRadialGradient(x, y, 0, x, y, 100);
          gradient.addColorStop(0, 'rgba(61, 251, 255, 0.6)');
          gradient.addColorStop(1, 'transparent');
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, canvas.width, canvas.height);
        }
      });
    });
    
    el.addEventListener('click', () => renderTerritory(gangKey));
  });
}

    const parallax = document.createElement('div');
    parallax.style.position = 'fixed';
    parallax.style.inset = '0';
    parallax.style.zIndex = '-1';
    parallax.style.pointerEvents = 'none';
    parallax.style.background = 'linear-gradient(130deg, rgba(255, 31, 184, 0.12), transparent 60%)';
    document.body.appendChild(parallax);

    document.addEventListener('mousemove', e => {
      const x = (e.clientX / window.innerWidth - 0.5) * 18;
      const y = (e.clientY / window.innerHeight - 0.5) * 18;
      parallax.style.transform = `translate(${x}px, ${y}px)`;
    });

    const secretModal = document.getElementById('secret-modal');
    const closeSecret = document.getElementById('close-secret');
    let secretBuffer = '';

    document.addEventListener('keydown', e => {
      if (bootActive) return;
      secretBuffer += e.key.toUpperCase();
      secretBuffer = secretBuffer.slice(-6);
      if (secretBuffer === 'GLITCH') {
        secretModal.classList.add('visible');
      }
    });

    closeSecret.addEventListener('click', () => {
      secretModal.classList.remove('visible');
      secretBuffer = '';
    });
  </script>
</body>
</html>
